{"ast":null,"code":"import _objectSpread from\"/Users/caseyreid/Documents/GitHub/air-qualiti2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{supabase}from'./supabaseClient';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,TimeScale}from'chart.js';import{Line}from'react-chartjs-2';import'chartjs-adapter-date-fns';// Register Chart.js components\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,TimeScale);ChartJS.defaults.responsive=true;ChartJS.defaults.maintainAspectRatio=false;const calculateHVACReduction=value=>{return value*0.7;// 30% reduction\n};const calculateEcologicaReduction=value=>{return value*0.6;// 40% reduction\n};const calculateCombinedReduction=value=>{return value*0.5;// 50% reduction\n};const calculateDeeperSleepMinutes=(data,hasHVAC,hasEcologica)=>{const getAdjustedValue=value=>{if(hasHVAC&&hasEcologica){return calculateCombinedReduction(value);}else if(hasHVAC){return calculateHVACReduction(value);}else if(hasEcologica){return calculateEcologicaReduction(value);}return value;};// Count days where PM2.5 is 5 or under after reductions\nconst daysUnderThreshold=data.filter(day=>{const adjustedValue=getAdjustedValue(parseFloat(day['PM 2.5']));return adjustedValue<=5;}).length;// Calculate total minutes of deeper sleep\n// days × 8 hours × 60 minutes\nconst deeperSleepMinutes=daysUnderThreshold*8*60;return deeperSleepMinutes;};const Dashboard=()=>{const[airQualityData,setAirQualityData]=useState([]);const[chartData,setChartData]=useState(null);const[isLoading,setIsLoading]=useState(true);const[hasHVAC,setHasHVAC]=useState(false);const[hasEcologica,setHasEcologica]=useState(false);const[city,setCity]=useState('Toronto');const[firstName,setFirstName]=useState('');const[activeDatasets,setActiveDatasets]=useState({'Original PM2.5':true,'PM2.5 with HVAC':false,'PM2.5 with Ecologica':false,'PM2.5 with Both':false,'Original PM10':true,'PM10 with HVAC':false,'PM10 with Ecologica':false,'PM10 with Both':false});const processChartData=(data,pollutantType)=>{const datasets=[{label:\"Original \".concat(pollutantType),data:data.map(d=>({x:d.date,y:pollutantType==='PM10'?parseFloat(d['PM 10']):parseFloat(d['PM 2.5'])})),borderColor:'rgb(0, 100, 0)',// Dark green\nbackgroundColor:'rgba(0, 100, 0, 0.1)',borderWidth:2,tension:0.1,hidden:!activeDatasets[\"Original \".concat(pollutantType)]}];if(hasHVAC){datasets.push({label:\"\".concat(pollutantType,\" with HVAC\"),data:data.map(d=>({x:d.date,y:calculateHVACReduction(pollutantType==='PM10'?parseFloat(d['PM 10']):parseFloat(d['PM 2.5']))})),borderColor:'rgb(34, 139, 34)',// Forest green\nbackgroundColor:'rgba(34, 139, 34, 0.1)',borderWidth:2,tension:0.1,hidden:!activeDatasets[\"\".concat(pollutantType,\" with HVAC\")]});}if(hasEcologica){datasets.push({label:\"\".concat(pollutantType,\" with Ecologica\"),data:data.map(d=>({x:d.date,y:calculateEcologicaReduction(pollutantType==='PM10'?parseFloat(d['PM 10']):parseFloat(d['PM 2.5']))})),borderColor:'rgb(60, 179, 113)',// Medium sea green\nbackgroundColor:'rgba(60, 179, 113, 0.1)',borderWidth:2,tension:0.1,hidden:!activeDatasets[\"\".concat(pollutantType,\" with Ecologica\")]});}if(hasHVAC&&hasEcologica){datasets.push({label:\"\".concat(pollutantType,\" with Both\"),data:data.map(d=>({x:d.date,y:calculateCombinedReduction(pollutantType==='PM10'?parseFloat(d['PM 10']):parseFloat(d['PM 2.5']))})),borderColor:'rgb(144, 238, 144)',// Light green\nbackgroundColor:'rgba(144, 238, 144, 0.1)',borderWidth:2,tension:0.1,hidden:!activeDatasets[\"\".concat(pollutantType,\" with Both\")]});}return{datasets};};useEffect(()=>{if(airQualityData.length>0){var _airQualityData$,_airQualityData$2;console.log('Setting chart data with:',{sampleDataPoint:airQualityData[0],pm10Value:(_airQualityData$=airQualityData[0])===null||_airQualityData$===void 0?void 0:_airQualityData$['PM 10'],pm25Value:(_airQualityData$2=airQualityData[0])===null||_airQualityData$2===void 0?void 0:_airQualityData$2['PM 2.5']});setChartData({pm25:processChartData(airQualityData,'PM2.5'),pm10:processChartData(airQualityData,'PM10')});}},[airQualityData,hasHVAC,hasEcologica,activeDatasets]);const getLast100Days=data=>{if(!Array.isArray(data)||data.length===0)return[];const validData=data.map(item=>({date:new Date(item.Date),'PM 2.5':parseFloat(item['PM 2.5']),'PM 10':parseFloat(item['PM 10']),city:item.City,temp:item.Temp})).filter(item=>!isNaN(item.date.getTime())&&!isNaN(item['PM 10'])&&!isNaN(item['PM 2.5'])&&item.city===city).sort((a,b)=>b.date-a.date);console.log('Processed valid data for city:',city,validData[0]);if(validData.length===0)return[];const mostRecentDate=validData[0].date;const cutoffDate=new Date(mostRecentDate);cutoffDate.setDate(cutoffDate.getDate()-100);return validData.filter(item=>item.date>=cutoffDate).sort((a,b)=>a.date-b.date);};useEffect(()=>{async function fetchPreferences(){try{const{data:{user}}=await supabase.auth.getUser();if(!user)return;const{data,error}=await supabase.from('user_preferences').select('has_HVAC, has_ecologgica, city').eq('user_id',user.id).single();console.log('Fetched preferences:',data);if(error){console.error('Error fetching preferences:',error);return;}if(data){console.log('Setting city to:',data.city);setCity(data.city);setHasHVAC(data.has_HVAC);setHasEcologica(data.has_ecologgica);setActiveDatasets(prev=>_objectSpread(_objectSpread({},prev),{},{'PM2.5 with HVAC':data.has_HVAC,'PM2.5 with Ecologica':data.has_ecologgica,'PM2.5 with Both':data.has_HVAC&&data.has_ecologgica,'PM10 with HVAC':data.has_HVAC,'PM10 with Ecologica':data.has_ecologgica,'PM10 with Both':data.has_HVAC&&data.has_ecologgica}));}}catch(error){console.error('Error:',error);}}fetchPreferences();},[]);const fetchAirQualityData=async()=>{try{var _data$,_data$2;const response=await fetch(\"http://localhost:5000/api/airqualitydata?city=\".concat(city));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();console.log('Raw data from API:',{city:city,firstRow:data[0],pm25Example:(_data$=data[0])===null||_data$===void 0?void 0:_data$['PM 2.5'],pm10Example:(_data$2=data[0])===null||_data$2===void 0?void 0:_data$2['PM 10']});const last100DaysData=getLast100Days(data.filter(item=>item.City===city));setAirQualityData(last100DaysData);}catch(error){console.error('Error fetching air quality:',error);}finally{setIsLoading(false);}};useEffect(()=>{fetchAirQualityData();},[city]);const chartOptions={responsive:true,maintainAspectRatio:true,scales:{x:{type:'time',time:{unit:'day'},grid:{display:true,color:'rgba(0, 0, 0, 0.1)'}},y:{beginAtZero:true,grid:{display:true,color:'rgba(0, 0, 0, 0.1)'},ticks:{callback:function(value){return value+' ug/m³';}}}},plugins:{tooltip:{mode:'index',intersect:false,callbacks:{label:function(context){return\"\".concat(context.dataset.label,\": \").concat(context.parsed.y.toFixed(1),\" ug/m\\xB3\");}}},legend:{position:'bottom',labels:{usePointStyle:true,padding:15,onClick:(event,legendItem,legend)=>{const index=legendItem.datasetIndex;const ci=legend.chart;const meta=ci.getDatasetMeta(index);meta.hidden=!meta.hidden;setActiveDatasets(prev=>_objectSpread(_objectSpread({},prev),{},{[legendItem.text]:!meta.hidden}));ci.update();}}}}};const calculateDaysOverThreshold=(data,pollutantType,threshold)=>{return data.filter(day=>parseFloat(day[pollutantType])>threshold).length;};const calculateDaysOverPeak=(data,pollutantType,threshold)=>{return data.filter(day=>parseFloat(day[pollutantType])>threshold).length;};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[airQualityData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"deeper-sleep-banner\",style:{backgroundColor:'#90c789',color:'#1a472a',padding:'20px',borderRadius:'8px',marginBottom:'20px',textAlign:'center',fontSize:'1.5rem',fontWeight:'bold'},children:[calculateDeeperSleepMinutes(airQualityData,hasHVAC,hasEcologica).toLocaleString(),\" minutes of deeper sleep\"]}),/*#__PURE__*/_jsxs(\"h1\",{children:[firstName?\"\".concat(firstName,\"'s \"):'',city,\" Dashboard\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-side\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"PM2.5 Levels\"}),chartData&&chartData.pm25&&/*#__PURE__*/_jsx(Line,{data:chartData.pm25,options:chartOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-side\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"key-data-title\",children:\"KEY DATA POINTS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-points\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverThreshold(airQualityData,'PM 2.5',10)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),10,\"ug/m\\xB3\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverThreshold(airQualityData,'PM 2.5',20)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),20,\"ug/m\\xB3\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverPeak(airQualityData,'PM 2.5',50)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),50,\"ug/m\\xB3\"]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-side\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"PM10 Levels\"}),chartData&&chartData.pm10&&/*#__PURE__*/_jsx(Line,{data:chartData.pm10,options:chartOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-side\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"key-data-title\",children:\"KEY DATA POINTS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-points\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverThreshold(airQualityData,'PM 10',20)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),20,\"ug/m\\xB3\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverThreshold(airQualityData,'PM 10',40)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),40,\"ug/m\\xB3\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"key-data-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key-data-number\",children:calculateDaysOverPeak(airQualityData,'PM 10',50)}),/*#__PURE__*/_jsxs(\"span\",{className:\"key-data-label\",children:[\"days over\",/*#__PURE__*/_jsx(\"br\",{}),50,\"ug/m\\xB3\"]})]})]})]})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","supabase","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","TimeScale","Line","jsxs","_jsxs","jsx","_jsx","register","defaults","responsive","maintainAspectRatio","calculateHVACReduction","value","calculateEcologicaReduction","calculateCombinedReduction","calculateDeeperSleepMinutes","data","hasHVAC","hasEcologica","getAdjustedValue","daysUnderThreshold","filter","day","adjustedValue","parseFloat","length","deeperSleepMinutes","Dashboard","airQualityData","setAirQualityData","chartData","setChartData","isLoading","setIsLoading","setHasHVAC","setHasEcologica","city","setCity","firstName","setFirstName","activeDatasets","setActiveDatasets","processChartData","pollutantType","datasets","label","concat","map","d","x","date","y","borderColor","backgroundColor","borderWidth","tension","hidden","push","_airQualityData$","_airQualityData$2","console","log","sampleDataPoint","pm10Value","pm25Value","pm25","pm10","getLast100Days","Array","isArray","validData","item","Date","City","temp","Temp","isNaN","getTime","sort","a","b","mostRecentDate","cutoffDate","setDate","getDate","fetchPreferences","user","auth","getUser","error","from","select","eq","id","single","has_HVAC","has_ecologgica","prev","_objectSpread","fetchAirQualityData","_data$","_data$2","response","fetch","ok","Error","status","json","firstRow","pm25Example","pm10Example","last100DaysData","chartOptions","scales","type","time","unit","grid","display","color","beginAtZero","ticks","callback","plugins","tooltip","mode","intersect","callbacks","context","dataset","parsed","toFixed","legend","position","labels","usePointStyle","padding","onClick","event","legendItem","index","datasetIndex","ci","chart","meta","getDatasetMeta","text","update","calculateDaysOverThreshold","threshold","calculateDaysOverPeak","className","children","style","borderRadius","marginBottom","textAlign","fontSize","fontWeight","toLocaleString","options"],"sources":["/Users/caseyreid/Documents/GitHub/air-qualiti2/src/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport 'chartjs-adapter-date-fns';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale\n);\n\nChartJS.defaults.responsive = true;\nChartJS.defaults.maintainAspectRatio = false;\n\nconst calculateHVACReduction = (value) => {\n  return value * 0.7; // 30% reduction\n};\n\nconst calculateEcologicaReduction = (value) => {\n  return value * 0.6; // 40% reduction\n};\n\nconst calculateCombinedReduction = (value) => {\n  return value * 0.5; // 50% reduction\n};\n\nconst calculateDeeperSleepMinutes = (data, hasHVAC, hasEcologica) => {\n  const getAdjustedValue = (value) => {\n    if (hasHVAC && hasEcologica) {\n      return calculateCombinedReduction(value);\n    } else if (hasHVAC) {\n      return calculateHVACReduction(value);\n    } else if (hasEcologica) {\n      return calculateEcologicaReduction(value);\n    }\n    return value;\n  };\n\n  // Count days where PM2.5 is 5 or under after reductions\n  const daysUnderThreshold = data.filter(day => {\n    const adjustedValue = getAdjustedValue(parseFloat(day['PM 2.5']));\n    return adjustedValue <= 5;\n  }).length;\n\n  // Calculate total minutes of deeper sleep\n  // days × 8 hours × 60 minutes\n  const deeperSleepMinutes = daysUnderThreshold * 8 * 60;\n\n  return deeperSleepMinutes;\n};\n\nconst Dashboard = () => {\n  const [airQualityData, setAirQualityData] = useState([]);\n  const [chartData, setChartData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasHVAC, setHasHVAC] = useState(false);\n  const [hasEcologica, setHasEcologica] = useState(false);\n  const [city, setCity] = useState('Toronto');\n  const [firstName, setFirstName] = useState('');\n  const [activeDatasets, setActiveDatasets] = useState({\n    'Original PM2.5': true,\n    'PM2.5 with HVAC': false,\n    'PM2.5 with Ecologica': false,\n    'PM2.5 with Both': false,\n    'Original PM10': true,\n    'PM10 with HVAC': false,\n    'PM10 with Ecologica': false,\n    'PM10 with Both': false\n  });\n\n  const processChartData = (data, pollutantType) => {\n    const datasets = [\n      {\n        label: `Original ${pollutantType}`,\n        data: data.map(d => ({\n          x: d.date,\n          y: pollutantType === 'PM10' ? parseFloat(d['PM 10']) : parseFloat(d['PM 2.5'])\n        })),\n        borderColor: 'rgb(0, 100, 0)', // Dark green\n        backgroundColor: 'rgba(0, 100, 0, 0.1)',\n        borderWidth: 2,\n        tension: 0.1,\n        hidden: !activeDatasets[`Original ${pollutantType}`]\n      }\n    ];\n\n    if (hasHVAC) {\n      datasets.push({\n        label: `${pollutantType} with HVAC`,\n        data: data.map(d => ({\n          x: d.date,\n          y: calculateHVACReduction(pollutantType === 'PM10' ? parseFloat(d['PM 10']) : parseFloat(d['PM 2.5']))\n        })),\n        borderColor: 'rgb(34, 139, 34)', // Forest green\n        backgroundColor: 'rgba(34, 139, 34, 0.1)',\n        borderWidth: 2,\n        tension: 0.1,\n        hidden: !activeDatasets[`${pollutantType} with HVAC`]\n      });\n    }\n\n    if (hasEcologica) {\n      datasets.push({\n        label: `${pollutantType} with Ecologica`,\n        data: data.map(d => ({\n          x: d.date,\n          y: calculateEcologicaReduction(pollutantType === 'PM10' ? parseFloat(d['PM 10']) : parseFloat(d['PM 2.5']))\n        })),\n        borderColor: 'rgb(60, 179, 113)', // Medium sea green\n        backgroundColor: 'rgba(60, 179, 113, 0.1)',\n        borderWidth: 2,\n        tension: 0.1,\n        hidden: !activeDatasets[`${pollutantType} with Ecologica`]\n      });\n    }\n\n    if (hasHVAC && hasEcologica) {\n      datasets.push({\n        label: `${pollutantType} with Both`,\n        data: data.map(d => ({\n          x: d.date,\n          y: calculateCombinedReduction(pollutantType === 'PM10' ? parseFloat(d['PM 10']) : parseFloat(d['PM 2.5']))\n        })),\n        borderColor: 'rgb(144, 238, 144)', // Light green\n        backgroundColor: 'rgba(144, 238, 144, 0.1)',\n        borderWidth: 2,\n        tension: 0.1,\n        hidden: !activeDatasets[`${pollutantType} with Both`]\n      });\n    }\n\n    return { datasets };\n  };\n\n  useEffect(() => {\n    if (airQualityData.length > 0) {\n      console.log('Setting chart data with:', {\n        sampleDataPoint: airQualityData[0],\n        pm10Value: airQualityData[0]?.['PM 10'],\n        pm25Value: airQualityData[0]?.['PM 2.5']\n      });\n      \n      setChartData({\n        pm25: processChartData(airQualityData, 'PM2.5'),\n        pm10: processChartData(airQualityData, 'PM10')\n      });\n    }\n  }, [airQualityData, hasHVAC, hasEcologica, activeDatasets]);\n\n  const getLast100Days = (data) => {\n    if (!Array.isArray(data) || data.length === 0) return [];\n\n    const validData = data\n      .map(item => ({\n        date: new Date(item.Date),\n        'PM 2.5': parseFloat(item['PM 2.5']),\n        'PM 10': parseFloat(item['PM 10']),\n        city: item.City,\n        temp: item.Temp\n      }))\n      .filter(item => \n        !isNaN(item.date.getTime()) && \n        !isNaN(item['PM 10']) && \n        !isNaN(item['PM 2.5']) &&\n        item.city === city\n      )\n      .sort((a, b) => b.date - a.date);\n\n    console.log('Processed valid data for city:', city, validData[0]);\n\n    if (validData.length === 0) return [];\n\n    const mostRecentDate = validData[0].date;\n    const cutoffDate = new Date(mostRecentDate);\n    cutoffDate.setDate(cutoffDate.getDate() - 100);\n\n    return validData\n      .filter(item => item.date >= cutoffDate)\n      .sort((a, b) => a.date - b.date);\n  };\n\n  useEffect(() => {\n    async function fetchPreferences() {\n      try {\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return;\n\n        const { data, error } = await supabase\n          .from('user_preferences')\n          .select('has_HVAC, has_ecologgica, city')\n          .eq('user_id', user.id)\n          .single();\n\n        console.log('Fetched preferences:', data);\n\n        if (error) {\n          console.error('Error fetching preferences:', error);\n          return;\n        }\n\n        if (data) {\n          console.log('Setting city to:', data.city);\n          setCity(data.city);\n          setHasHVAC(data.has_HVAC);\n          setHasEcologica(data.has_ecologgica);\n          \n          setActiveDatasets(prev => ({\n            ...prev,\n            'PM2.5 with HVAC': data.has_HVAC,\n            'PM2.5 with Ecologica': data.has_ecologgica,\n            'PM2.5 with Both': (data.has_HVAC && data.has_ecologgica),\n            'PM10 with HVAC': data.has_HVAC,\n            'PM10 with Ecologica': data.has_ecologgica,\n            'PM10 with Both': (data.has_HVAC && data.has_ecologgica)\n          }));\n        }\n      } catch (error) {\n        console.error('Error:', error);\n      }\n    }\n\n    fetchPreferences();\n  }, []);\n\n  const fetchAirQualityData = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/airqualitydata?city=${city}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('Raw data from API:', {\n        city: city,\n        firstRow: data[0],\n        pm25Example: data[0]?.['PM 2.5'],\n        pm10Example: data[0]?.['PM 10']\n      });\n      const last100DaysData = getLast100Days(data.filter(item => item.City === city));\n      setAirQualityData(last100DaysData);\n    } catch (error) {\n      console.error('Error fetching air quality:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAirQualityData();\n  }, [city]);\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    scales: {\n      x: {\n        type: 'time',\n        time: {\n          unit: 'day'\n        },\n        grid: {\n          display: true,\n          color: 'rgba(0, 0, 0, 0.1)',\n        }\n      },\n      y: {\n        beginAtZero: true,\n        grid: {\n          display: true,\n          color: 'rgba(0, 0, 0, 0.1)',\n        },\n        ticks: {\n          callback: function(value) {\n            return value + ' ug/m³';\n          }\n        }\n      }\n    },\n    plugins: {\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          label: function(context) {\n            return `${context.dataset.label}: ${context.parsed.y.toFixed(1)} ug/m³`;\n          }\n        }\n      },\n      legend: {\n        position: 'bottom',\n        labels: {\n          usePointStyle: true,\n          padding: 15,\n          onClick: (event, legendItem, legend) => {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            const meta = ci.getDatasetMeta(index);\n\n            meta.hidden = !meta.hidden;\n\n            setActiveDatasets(prev => ({\n              ...prev,\n              [legendItem.text]: !meta.hidden\n            }));\n\n            ci.update();\n          }\n        }\n      }\n    }\n  };\n\n  const calculateDaysOverThreshold = (data, pollutantType, threshold) => {\n    return data.filter(day => \n      parseFloat(day[pollutantType]) > threshold\n    ).length;\n  };\n\n  const calculateDaysOverPeak = (data, pollutantType, threshold) => {\n    return data.filter(day => parseFloat(day[pollutantType]) > threshold).length;\n  };\n\n  return (\n    <div className=\"dashboard\">\n      {airQualityData.length > 0 && (\n        <div className=\"deeper-sleep-banner\" style={{\n          backgroundColor: '#90c789',\n          color: '#1a472a',\n          padding: '20px',\n          borderRadius: '8px',\n          marginBottom: '20px',\n          textAlign: 'center',\n          fontSize: '1.5rem',\n          fontWeight: 'bold'\n        }}>\n          {calculateDeeperSleepMinutes(airQualityData, hasHVAC, hasEcologica).toLocaleString()} minutes of deeper sleep\n        </div>\n      )}\n      <h1>{firstName ? `${firstName}'s ` : ''}{city} Dashboard</h1>\n      \n      <div className=\"dashboard-container\">\n        {/* PM2.5 Section */}\n        <div className=\"dashboard-section\">\n          <div className=\"content-wrapper\">\n            <div className=\"chart-side\">\n              <h2>PM2.5 Levels</h2>\n              {chartData && chartData.pm25 && (\n                <Line\n                  data={chartData.pm25}\n                  options={chartOptions}\n                />\n              )}\n            </div>\n            \n            <div className=\"data-side\">\n              <div className=\"key-data-title\">\n                KEY DATA POINTS\n              </div>\n              <div className=\"key-data-points\">\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverThreshold(airQualityData, 'PM 2.5', 10)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {10}ug/m³\n                  </span>\n                </div>\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverThreshold(airQualityData, 'PM 2.5', 20)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {20}ug/m³\n                  </span>\n                </div>\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverPeak(airQualityData, 'PM 2.5', 50)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {50}ug/m³\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* PM10 Section */}\n        <div className=\"dashboard-section\">\n          <div className=\"content-wrapper\">\n            <div className=\"chart-side\">\n              <h2>PM10 Levels</h2>\n              {chartData && chartData.pm10 && (\n                <Line\n                  data={chartData.pm10}\n                  options={chartOptions}\n                />\n              )}\n            </div>\n            \n            <div className=\"data-side\">\n              <div className=\"key-data-title\">\n                KEY DATA POINTS\n              </div>\n              <div className=\"key-data-points\">\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverThreshold(airQualityData, 'PM 10', 20)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {20}ug/m³\n                  </span>\n                </div>\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverThreshold(airQualityData, 'PM 10', 40)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {40}ug/m³\n                  </span>\n                </div>\n                <div className=\"key-data-point\">\n                  <span className=\"key-data-number\">\n                    {calculateDaysOverPeak(airQualityData, 'PM 10', 50)}\n                  </span>\n                  <span className=\"key-data-label\">\n                    days over<br />\n                    {50}ug/m³\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OACEC,KAAK,GAAI,CAAAC,OAAO,CAChBC,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MAAM,CACNC,SAAS,KACJ,UAAU,CACjB,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,0BAA0B,CAEjC;AAAA,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBACAb,OAAO,CAACc,QAAQ,CACdb,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MAAM,CACNC,SACF,CAAC,CAEDR,OAAO,CAACe,QAAQ,CAACC,UAAU,CAAG,IAAI,CAClChB,OAAO,CAACe,QAAQ,CAACE,mBAAmB,CAAG,KAAK,CAE5C,KAAM,CAAAC,sBAAsB,CAAIC,KAAK,EAAK,CACxC,MAAO,CAAAA,KAAK,CAAG,GAAG,CAAE;AACtB,CAAC,CAED,KAAM,CAAAC,2BAA2B,CAAID,KAAK,EAAK,CAC7C,MAAO,CAAAA,KAAK,CAAG,GAAG,CAAE;AACtB,CAAC,CAED,KAAM,CAAAE,0BAA0B,CAAIF,KAAK,EAAK,CAC5C,MAAO,CAAAA,KAAK,CAAG,GAAG,CAAE;AACtB,CAAC,CAED,KAAM,CAAAG,2BAA2B,CAAGA,CAACC,IAAI,CAAEC,OAAO,CAAEC,YAAY,GAAK,CACnE,KAAM,CAAAC,gBAAgB,CAAIP,KAAK,EAAK,CAClC,GAAIK,OAAO,EAAIC,YAAY,CAAE,CAC3B,MAAO,CAAAJ,0BAA0B,CAACF,KAAK,CAAC,CAC1C,CAAC,IAAM,IAAIK,OAAO,CAAE,CAClB,MAAO,CAAAN,sBAAsB,CAACC,KAAK,CAAC,CACtC,CAAC,IAAM,IAAIM,YAAY,CAAE,CACvB,MAAO,CAAAL,2BAA2B,CAACD,KAAK,CAAC,CAC3C,CACA,MAAO,CAAAA,KAAK,CACd,CAAC,CAED;AACA,KAAM,CAAAQ,kBAAkB,CAAGJ,IAAI,CAACK,MAAM,CAACC,GAAG,EAAI,CAC5C,KAAM,CAAAC,aAAa,CAAGJ,gBAAgB,CAACK,UAAU,CAACF,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CACjE,MAAO,CAAAC,aAAa,EAAI,CAAC,CAC3B,CAAC,CAAC,CAACE,MAAM,CAET;AACA;AACA,KAAM,CAAAC,kBAAkB,CAAGN,kBAAkB,CAAG,CAAC,CAAG,EAAE,CAEtD,MAAO,CAAAM,kBAAkB,CAC3B,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACyC,SAAS,CAAEC,YAAY,CAAC,CAAG1C,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAC2C,SAAS,CAAEC,YAAY,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAC4B,OAAO,CAAEiB,UAAU,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC6B,YAAY,CAAEiB,eAAe,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC+C,IAAI,CAAEC,OAAO,CAAC,CAAGhD,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAACiD,SAAS,CAAEC,YAAY,CAAC,CAAGlD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACmD,cAAc,CAAEC,iBAAiB,CAAC,CAAGpD,QAAQ,CAAC,CACnD,gBAAgB,CAAE,IAAI,CACtB,iBAAiB,CAAE,KAAK,CACxB,sBAAsB,CAAE,KAAK,CAC7B,iBAAiB,CAAE,KAAK,CACxB,eAAe,CAAE,IAAI,CACrB,gBAAgB,CAAE,KAAK,CACvB,qBAAqB,CAAE,KAAK,CAC5B,gBAAgB,CAAE,KACpB,CAAC,CAAC,CAEF,KAAM,CAAAqD,gBAAgB,CAAGA,CAAC1B,IAAI,CAAE2B,aAAa,GAAK,CAChD,KAAM,CAAAC,QAAQ,CAAG,CACf,CACEC,KAAK,aAAAC,MAAA,CAAcH,aAAa,CAAE,CAClC3B,IAAI,CAAEA,IAAI,CAAC+B,GAAG,CAACC,CAAC,GAAK,CACnBC,CAAC,CAAED,CAAC,CAACE,IAAI,CACTC,CAAC,CAAER,aAAa,GAAK,MAAM,CAAGnB,UAAU,CAACwB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAGxB,UAAU,CAACwB,CAAC,CAAC,QAAQ,CAAC,CAC/E,CAAC,CAAC,CAAC,CACHI,WAAW,CAAE,gBAAgB,CAAE;AAC/BC,eAAe,CAAE,sBAAsB,CACvCC,WAAW,CAAE,CAAC,CACdC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,CAAChB,cAAc,aAAAM,MAAA,CAAaH,aAAa,EACnD,CAAC,CACF,CAED,GAAI1B,OAAO,CAAE,CACX2B,QAAQ,CAACa,IAAI,CAAC,CACZZ,KAAK,IAAAC,MAAA,CAAKH,aAAa,cAAY,CACnC3B,IAAI,CAAEA,IAAI,CAAC+B,GAAG,CAACC,CAAC,GAAK,CACnBC,CAAC,CAAED,CAAC,CAACE,IAAI,CACTC,CAAC,CAAExC,sBAAsB,CAACgC,aAAa,GAAK,MAAM,CAAGnB,UAAU,CAACwB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAGxB,UAAU,CAACwB,CAAC,CAAC,QAAQ,CAAC,CAAC,CACvG,CAAC,CAAC,CAAC,CACHI,WAAW,CAAE,kBAAkB,CAAE;AACjCC,eAAe,CAAE,wBAAwB,CACzCC,WAAW,CAAE,CAAC,CACdC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,CAAChB,cAAc,IAAAM,MAAA,CAAIH,aAAa,eAC1C,CAAC,CAAC,CACJ,CAEA,GAAIzB,YAAY,CAAE,CAChB0B,QAAQ,CAACa,IAAI,CAAC,CACZZ,KAAK,IAAAC,MAAA,CAAKH,aAAa,mBAAiB,CACxC3B,IAAI,CAAEA,IAAI,CAAC+B,GAAG,CAACC,CAAC,GAAK,CACnBC,CAAC,CAAED,CAAC,CAACE,IAAI,CACTC,CAAC,CAAEtC,2BAA2B,CAAC8B,aAAa,GAAK,MAAM,CAAGnB,UAAU,CAACwB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAGxB,UAAU,CAACwB,CAAC,CAAC,QAAQ,CAAC,CAAC,CAC5G,CAAC,CAAC,CAAC,CACHI,WAAW,CAAE,mBAAmB,CAAE;AAClCC,eAAe,CAAE,yBAAyB,CAC1CC,WAAW,CAAE,CAAC,CACdC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,CAAChB,cAAc,IAAAM,MAAA,CAAIH,aAAa,oBAC1C,CAAC,CAAC,CACJ,CAEA,GAAI1B,OAAO,EAAIC,YAAY,CAAE,CAC3B0B,QAAQ,CAACa,IAAI,CAAC,CACZZ,KAAK,IAAAC,MAAA,CAAKH,aAAa,cAAY,CACnC3B,IAAI,CAAEA,IAAI,CAAC+B,GAAG,CAACC,CAAC,GAAK,CACnBC,CAAC,CAAED,CAAC,CAACE,IAAI,CACTC,CAAC,CAAErC,0BAA0B,CAAC6B,aAAa,GAAK,MAAM,CAAGnB,UAAU,CAACwB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAGxB,UAAU,CAACwB,CAAC,CAAC,QAAQ,CAAC,CAAC,CAC3G,CAAC,CAAC,CAAC,CACHI,WAAW,CAAE,oBAAoB,CAAE;AACnCC,eAAe,CAAE,0BAA0B,CAC3CC,WAAW,CAAE,CAAC,CACdC,OAAO,CAAE,GAAG,CACZC,MAAM,CAAE,CAAChB,cAAc,IAAAM,MAAA,CAAIH,aAAa,eAC1C,CAAC,CAAC,CACJ,CAEA,MAAO,CAAEC,QAAS,CAAC,CACrB,CAAC,CAEDtD,SAAS,CAAC,IAAM,CACd,GAAIsC,cAAc,CAACH,MAAM,CAAG,CAAC,CAAE,KAAAiC,gBAAA,CAAAC,iBAAA,CAC7BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAE,CACtCC,eAAe,CAAElC,cAAc,CAAC,CAAC,CAAC,CAClCmC,SAAS,EAAAL,gBAAA,CAAE9B,cAAc,CAAC,CAAC,CAAC,UAAA8B,gBAAA,iBAAjBA,gBAAA,CAAoB,OAAO,CAAC,CACvCM,SAAS,EAAAL,iBAAA,CAAE/B,cAAc,CAAC,CAAC,CAAC,UAAA+B,iBAAA,iBAAjBA,iBAAA,CAAoB,QAAQ,CACzC,CAAC,CAAC,CAEF5B,YAAY,CAAC,CACXkC,IAAI,CAAEvB,gBAAgB,CAACd,cAAc,CAAE,OAAO,CAAC,CAC/CsC,IAAI,CAAExB,gBAAgB,CAACd,cAAc,CAAE,MAAM,CAC/C,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACA,cAAc,CAAEX,OAAO,CAAEC,YAAY,CAAEsB,cAAc,CAAC,CAAC,CAE3D,KAAM,CAAA2B,cAAc,CAAInD,IAAI,EAAK,CAC/B,GAAI,CAACoD,KAAK,CAACC,OAAO,CAACrD,IAAI,CAAC,EAAIA,IAAI,CAACS,MAAM,GAAK,CAAC,CAAE,MAAO,EAAE,CAExD,KAAM,CAAA6C,SAAS,CAAGtD,IAAI,CACnB+B,GAAG,CAACwB,IAAI,GAAK,CACZrB,IAAI,CAAE,GAAI,CAAAsB,IAAI,CAACD,IAAI,CAACC,IAAI,CAAC,CACzB,QAAQ,CAAEhD,UAAU,CAAC+C,IAAI,CAAC,QAAQ,CAAC,CAAC,CACpC,OAAO,CAAE/C,UAAU,CAAC+C,IAAI,CAAC,OAAO,CAAC,CAAC,CAClCnC,IAAI,CAAEmC,IAAI,CAACE,IAAI,CACfC,IAAI,CAAEH,IAAI,CAACI,IACb,CAAC,CAAC,CAAC,CACFtD,MAAM,CAACkD,IAAI,EACV,CAACK,KAAK,CAACL,IAAI,CAACrB,IAAI,CAAC2B,OAAO,CAAC,CAAC,CAAC,EAC3B,CAACD,KAAK,CAACL,IAAI,CAAC,OAAO,CAAC,CAAC,EACrB,CAACK,KAAK,CAACL,IAAI,CAAC,QAAQ,CAAC,CAAC,EACtBA,IAAI,CAACnC,IAAI,GAAKA,IAChB,CAAC,CACA0C,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAC9B,IAAI,CAAG6B,CAAC,CAAC7B,IAAI,CAAC,CAElCU,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAEzB,IAAI,CAAEkC,SAAS,CAAC,CAAC,CAAC,CAAC,CAEjE,GAAIA,SAAS,CAAC7C,MAAM,GAAK,CAAC,CAAE,MAAO,EAAE,CAErC,KAAM,CAAAwD,cAAc,CAAGX,SAAS,CAAC,CAAC,CAAC,CAACpB,IAAI,CACxC,KAAM,CAAAgC,UAAU,CAAG,GAAI,CAAAV,IAAI,CAACS,cAAc,CAAC,CAC3CC,UAAU,CAACC,OAAO,CAACD,UAAU,CAACE,OAAO,CAAC,CAAC,CAAG,GAAG,CAAC,CAE9C,MAAO,CAAAd,SAAS,CACbjD,MAAM,CAACkD,IAAI,EAAIA,IAAI,CAACrB,IAAI,EAAIgC,UAAU,CAAC,CACvCJ,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAC7B,IAAI,CAAG8B,CAAC,CAAC9B,IAAI,CAAC,CACpC,CAAC,CAED5D,SAAS,CAAC,IAAM,CACd,cAAe,CAAA+F,gBAAgBA,CAAA,CAAG,CAChC,GAAI,CACF,KAAM,CAAErE,IAAI,CAAE,CAAEsE,IAAK,CAAE,CAAC,CAAG,KAAM,CAAA/F,QAAQ,CAACgG,IAAI,CAACC,OAAO,CAAC,CAAC,CACxD,GAAI,CAACF,IAAI,CAAE,OAEX,KAAM,CAAEtE,IAAI,CAAEyE,KAAM,CAAC,CAAG,KAAM,CAAAlG,QAAQ,CACnCmG,IAAI,CAAC,kBAAkB,CAAC,CACxBC,MAAM,CAAC,gCAAgC,CAAC,CACxCC,EAAE,CAAC,SAAS,CAAEN,IAAI,CAACO,EAAE,CAAC,CACtBC,MAAM,CAAC,CAAC,CAEXlC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE7C,IAAI,CAAC,CAEzC,GAAIyE,KAAK,CAAE,CACT7B,OAAO,CAAC6B,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD,OACF,CAEA,GAAIzE,IAAI,CAAE,CACR4C,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAE7C,IAAI,CAACoB,IAAI,CAAC,CAC1CC,OAAO,CAACrB,IAAI,CAACoB,IAAI,CAAC,CAClBF,UAAU,CAAClB,IAAI,CAAC+E,QAAQ,CAAC,CACzB5D,eAAe,CAACnB,IAAI,CAACgF,cAAc,CAAC,CAEpCvD,iBAAiB,CAACwD,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACjBD,IAAI,MACP,iBAAiB,CAAEjF,IAAI,CAAC+E,QAAQ,CAChC,sBAAsB,CAAE/E,IAAI,CAACgF,cAAc,CAC3C,iBAAiB,CAAGhF,IAAI,CAAC+E,QAAQ,EAAI/E,IAAI,CAACgF,cAAe,CACzD,gBAAgB,CAAEhF,IAAI,CAAC+E,QAAQ,CAC/B,qBAAqB,CAAE/E,IAAI,CAACgF,cAAc,CAC1C,gBAAgB,CAAGhF,IAAI,CAAC+E,QAAQ,EAAI/E,IAAI,CAACgF,cAAe,EACxD,CAAC,CACL,CACF,CAAE,MAAOP,KAAK,CAAE,CACd7B,OAAO,CAAC6B,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CACF,CAEAJ,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAc,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,KAAAC,MAAA,CAAAC,OAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kDAAAzD,MAAA,CAAkDV,IAAI,CAAE,CAAC,CACrF,GAAI,CAACkE,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,wBAAA3D,MAAA,CAAwBwD,QAAQ,CAACI,MAAM,CAAE,CAAC,CAC3D,CACA,KAAM,CAAA1F,IAAI,CAAG,KAAM,CAAAsF,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClC/C,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAE,CAChCzB,IAAI,CAAEA,IAAI,CACVwE,QAAQ,CAAE5F,IAAI,CAAC,CAAC,CAAC,CACjB6F,WAAW,EAAAT,MAAA,CAAEpF,IAAI,CAAC,CAAC,CAAC,UAAAoF,MAAA,iBAAPA,MAAA,CAAU,QAAQ,CAAC,CAChCU,WAAW,EAAAT,OAAA,CAAErF,IAAI,CAAC,CAAC,CAAC,UAAAqF,OAAA,iBAAPA,OAAA,CAAU,OAAO,CAChC,CAAC,CAAC,CACF,KAAM,CAAAU,eAAe,CAAG5C,cAAc,CAACnD,IAAI,CAACK,MAAM,CAACkD,IAAI,EAAIA,IAAI,CAACE,IAAI,GAAKrC,IAAI,CAAC,CAAC,CAC/EP,iBAAiB,CAACkF,eAAe,CAAC,CACpC,CAAE,MAAOtB,KAAK,CAAE,CACd7B,OAAO,CAAC6B,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRxD,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED3C,SAAS,CAAC,IAAM,CACd6G,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,CAAC/D,IAAI,CAAC,CAAC,CAEV,KAAM,CAAA4E,YAAY,CAAG,CACnBvG,UAAU,CAAE,IAAI,CAChBC,mBAAmB,CAAE,IAAI,CACzBuG,MAAM,CAAE,CACNhE,CAAC,CAAE,CACDiE,IAAI,CAAE,MAAM,CACZC,IAAI,CAAE,CACJC,IAAI,CAAE,KACR,CAAC,CACDC,IAAI,CAAE,CACJC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,oBACT,CACF,CAAC,CACDpE,CAAC,CAAE,CACDqE,WAAW,CAAE,IAAI,CACjBH,IAAI,CAAE,CACJC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,oBACT,CAAC,CACDE,KAAK,CAAE,CACLC,QAAQ,CAAE,QAAAA,CAAS9G,KAAK,CAAE,CACxB,MAAO,CAAAA,KAAK,CAAG,QAAQ,CACzB,CACF,CACF,CACF,CAAC,CACD+G,OAAO,CAAE,CACPC,OAAO,CAAE,CACPC,IAAI,CAAE,OAAO,CACbC,SAAS,CAAE,KAAK,CAChBC,SAAS,CAAE,CACTlF,KAAK,CAAE,QAAAA,CAASmF,OAAO,CAAE,CACvB,SAAAlF,MAAA,CAAUkF,OAAO,CAACC,OAAO,CAACpF,KAAK,OAAAC,MAAA,CAAKkF,OAAO,CAACE,MAAM,CAAC/E,CAAC,CAACgF,OAAO,CAAC,CAAC,CAAC,cACjE,CACF,CACF,CAAC,CACDC,MAAM,CAAE,CACNC,QAAQ,CAAE,QAAQ,CAClBC,MAAM,CAAE,CACNC,aAAa,CAAE,IAAI,CACnBC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAEA,CAACC,KAAK,CAAEC,UAAU,CAAEP,MAAM,GAAK,CACtC,KAAM,CAAAQ,KAAK,CAAGD,UAAU,CAACE,YAAY,CACrC,KAAM,CAAAC,EAAE,CAAGV,MAAM,CAACW,KAAK,CACvB,KAAM,CAAAC,IAAI,CAAGF,EAAE,CAACG,cAAc,CAACL,KAAK,CAAC,CAErCI,IAAI,CAACxF,MAAM,CAAG,CAACwF,IAAI,CAACxF,MAAM,CAE1Bf,iBAAiB,CAACwD,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACjBD,IAAI,MACP,CAAC0C,UAAU,CAACO,IAAI,EAAG,CAACF,IAAI,CAACxF,MAAM,EAC/B,CAAC,CAEHsF,EAAE,CAACK,MAAM,CAAC,CAAC,CACb,CACF,CACF,CACF,CACF,CAAC,CAED,KAAM,CAAAC,0BAA0B,CAAGA,CAACpI,IAAI,CAAE2B,aAAa,CAAE0G,SAAS,GAAK,CACrE,MAAO,CAAArI,IAAI,CAACK,MAAM,CAACC,GAAG,EACpBE,UAAU,CAACF,GAAG,CAACqB,aAAa,CAAC,CAAC,CAAG0G,SACnC,CAAC,CAAC5H,MAAM,CACV,CAAC,CAED,KAAM,CAAA6H,qBAAqB,CAAGA,CAACtI,IAAI,CAAE2B,aAAa,CAAE0G,SAAS,GAAK,CAChE,MAAO,CAAArI,IAAI,CAACK,MAAM,CAACC,GAAG,EAAIE,UAAU,CAACF,GAAG,CAACqB,aAAa,CAAC,CAAC,CAAG0G,SAAS,CAAC,CAAC5H,MAAM,CAC9E,CAAC,CAED,mBACErB,KAAA,QAAKmJ,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvB5H,cAAc,CAACH,MAAM,CAAG,CAAC,eACxBrB,KAAA,QAAKmJ,SAAS,CAAC,qBAAqB,CAACE,KAAK,CAAE,CAC1CpG,eAAe,CAAE,SAAS,CAC1BkE,KAAK,CAAE,SAAS,CAChBiB,OAAO,CAAE,MAAM,CACfkB,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBC,SAAS,CAAE,QAAQ,CACnBC,QAAQ,CAAE,QAAQ,CAClBC,UAAU,CAAE,MACd,CAAE,CAAAN,QAAA,EACCzI,2BAA2B,CAACa,cAAc,CAAEX,OAAO,CAAEC,YAAY,CAAC,CAAC6I,cAAc,CAAC,CAAC,CAAC,0BACvF,EAAK,CACN,cACD3J,KAAA,OAAAoJ,QAAA,EAAKlH,SAAS,IAAAQ,MAAA,CAAMR,SAAS,QAAQ,EAAE,CAAEF,IAAI,CAAC,YAAU,EAAI,CAAC,cAE7DhC,KAAA,QAAKmJ,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAElClJ,IAAA,QAAKiJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCpJ,KAAA,QAAKmJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpJ,KAAA,QAAKmJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlJ,IAAA,OAAAkJ,QAAA,CAAI,cAAY,CAAI,CAAC,CACpB1H,SAAS,EAAIA,SAAS,CAACmC,IAAI,eAC1B3D,IAAA,CAACJ,IAAI,EACHc,IAAI,CAAEc,SAAS,CAACmC,IAAK,CACrB+F,OAAO,CAAEhD,YAAa,CACvB,CACF,EACE,CAAC,cAEN5G,KAAA,QAAKmJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,QAAKiJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,iBAEhC,CAAK,CAAC,cACNpJ,KAAA,QAAKmJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpJ,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BJ,0BAA0B,CAACxH,cAAc,CAAE,QAAQ,CAAE,EAAE,CAAC,CACrD,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,cACNF,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BJ,0BAA0B,CAACxH,cAAc,CAAE,QAAQ,CAAE,EAAE,CAAC,CACrD,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,cACNF,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BF,qBAAqB,CAAC1H,cAAc,CAAE,QAAQ,CAAE,EAAE,CAAC,CAChD,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNA,IAAA,QAAKiJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCpJ,KAAA,QAAKmJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpJ,KAAA,QAAKmJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlJ,IAAA,OAAAkJ,QAAA,CAAI,aAAW,CAAI,CAAC,CACnB1H,SAAS,EAAIA,SAAS,CAACoC,IAAI,eAC1B5D,IAAA,CAACJ,IAAI,EACHc,IAAI,CAAEc,SAAS,CAACoC,IAAK,CACrB8F,OAAO,CAAEhD,YAAa,CACvB,CACF,EACE,CAAC,cAEN5G,KAAA,QAAKmJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,QAAKiJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,iBAEhC,CAAK,CAAC,cACNpJ,KAAA,QAAKmJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpJ,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BJ,0BAA0B,CAACxH,cAAc,CAAE,OAAO,CAAE,EAAE,CAAC,CACpD,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,cACNF,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BJ,0BAA0B,CAACxH,cAAc,CAAE,OAAO,CAAE,EAAE,CAAC,CACpD,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,cACNF,KAAA,QAAKmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,SAAMiJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC9BF,qBAAqB,CAAC1H,cAAc,CAAE,OAAO,CAAE,EAAE,CAAC,CAC/C,CAAC,cACPxB,KAAA,SAAMmJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,WACtB,cAAAlJ,IAAA,QAAK,CAAC,CACd,EAAE,CAAC,UACN,EAAM,CAAC,EACJ,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAqB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}