{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{supabase}from'./supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ThankYou=()=>{const navigate=useNavigate();const[showModal,setShowModal]=useState(false);const[isConfirmed,setIsConfirmed]=useState(false);useEffect(()=>{const checkEmailConfirmation=async()=>{const{data:{user}}=await supabase.auth.getUser();if(user&&user.email_confirmed_at){setIsConfirmed(true);}};checkEmailConfirmation();},[]);const handleGoToQuestionnaire=async()=>{const{data:{user}}=await supabase.auth.getUser();if(user&&user.email_confirmed_at){navigate('/questionnaire');}else{setShowModal(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"thank-you-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Thank You for Signing Up!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"We\\u2019ve sent a confirmation link to your email. Please verify your account.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGoToQuestionnaire,children:\"Go to Questionnaire\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Email Confirmation Required\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please confirm your email by clicking the link we sent to your inbox.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),children:\"Close\"})]})})]});};export default ThankYou;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","jsx","_jsx","jsxs","_jsxs","ThankYou","navigate","showModal","setShowModal","isConfirmed","setIsConfirmed","checkEmailConfirmation","data","user","auth","getUser","email_confirmed_at","handleGoToQuestionnaire","className","children","onClick"],"sources":["/Users/caseyreid/Documents/GitHub/air-qualiti2/src/ThankYou.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from './supabaseClient';\n\nconst ThankYou = () => {\n  const navigate = useNavigate();\n  const [showModal, setShowModal] = useState(false);\n  const [isConfirmed, setIsConfirmed] = useState(false);\n\n  useEffect(() => {\n    const checkEmailConfirmation = async () => {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (user && user.email_confirmed_at) {\n        setIsConfirmed(true);\n      }\n    };\n\n    checkEmailConfirmation();\n  }, []);\n\n  const handleGoToQuestionnaire = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (user && user.email_confirmed_at) {\n      navigate('/questionnaire');\n    } else {\n      setShowModal(true);\n    }\n  };\n\n  return (\n    <div className=\"thank-you-container\">\n      <h1>Thank You for Signing Up!</h1>\n      <p>Weâ€™ve sent a confirmation link to your email. Please verify your account.</p>\n      <button onClick={handleGoToQuestionnaire}>Go to Questionnaire</button>\n\n      {showModal && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h3>Email Confirmation Required</h3>\n            <p>Please confirm your email by clicking the link we sent to your inbox.</p>\n            <button onClick={() => setShowModal(false)}>Close</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ThankYou;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAErDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,KAAM,CAAEC,IAAI,CAAE,CAAEC,IAAK,CAAE,CAAC,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAACC,OAAO,CAAC,CAAC,CACxD,GAAIF,IAAI,EAAIA,IAAI,CAACG,kBAAkB,CAAE,CACnCN,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAEDC,sBAAsB,CAAC,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,KAAM,CAAEL,IAAI,CAAE,CAAEC,IAAK,CAAE,CAAC,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAACC,OAAO,CAAC,CAAC,CAExD,GAAIF,IAAI,EAAIA,IAAI,CAACG,kBAAkB,CAAE,CACnCV,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAC,IAAM,CACLE,YAAY,CAAC,IAAI,CAAC,CACpB,CACF,CAAC,CAED,mBACEJ,KAAA,QAAKc,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCjB,IAAA,OAAAiB,QAAA,CAAI,2BAAyB,CAAI,CAAC,cAClCjB,IAAA,MAAAiB,QAAA,CAAG,gFAAyE,CAAG,CAAC,cAChFjB,IAAA,WAAQkB,OAAO,CAAEH,uBAAwB,CAAAE,QAAA,CAAC,qBAAmB,CAAQ,CAAC,CAErEZ,SAAS,eACRL,IAAA,QAAKgB,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBf,KAAA,QAAKc,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjB,IAAA,OAAAiB,QAAA,CAAI,6BAA2B,CAAI,CAAC,cACpCjB,IAAA,MAAAiB,QAAA,CAAG,uEAAqE,CAAG,CAAC,cAC5EjB,IAAA,WAAQkB,OAAO,CAAEA,CAAA,GAAMZ,YAAY,CAAC,KAAK,CAAE,CAAAW,QAAA,CAAC,OAAK,CAAQ,CAAC,EACvD,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}